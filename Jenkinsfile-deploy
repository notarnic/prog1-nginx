pipeline{
  agent any

  stages{
    stage('Download Index'){
      steps{
        sh 'wget -O index.html https://raw.githubusercontent.com/notarnic/prog1-nginx/main/index.html?token=GHSAT0AAAAAAB5VDETYIALBGTTQ5WJPREGQY7M44EA'
        sh 'cat index.html'
      }
    }
    stage('RUN'){
      steps{
        sh 'docker run -d --name prog1 -p 8000:80 nginx'
      }
    }
    stage('Docker CP'){
      steps{
        sh 'docker cp index.html prog1:/usr/share/nginx/index.html'
      }
    }
  }
}
